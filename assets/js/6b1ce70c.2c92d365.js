"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[28647],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>y});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=l(r),m=a,y=p["".concat(s,".").concat(m)]||p[m]||f[m]||i;return r?n.createElement(y,c(c({ref:t},u),{},{components:r})):n.createElement(y,c({ref:t},u))}));function y(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,c=new Array(i);c[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:a,c[1]=o;for(var l=2;l<i;l++)c[l]=r[l];return n.createElement.apply(null,c)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},80282:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>f,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var n=r(87462),a=(r(67294),r(3905));const i={id:"frequency",title:"Frequency"},c=void 0,o={unversionedId:"reference/observability/metrics/frequency",id:"reference/observability/metrics/frequency",title:"Frequency",description:"A Frequency represents the number of occurrences of specified values. We can think of a Frequency as a set of counters associated with each value except that new counters will automatically be created when new values are observed.",source:"@site/docs/reference/observability/metrics/frequency.md",sourceDirName:"reference/observability/metrics",slug:"/reference/observability/metrics/frequency",permalink:"/reference/observability/metrics/frequency",draft:!1,editUrl:"https://github.com/zio/zio/edit/series/2.x/docs/reference/observability/metrics/frequency.md",tags:[],version:"current",frontMatter:{id:"frequency",title:"Frequency"},sidebar:"reference-sidebar",previous:{title:"Summary",permalink:"/reference/observability/metrics/summary"},next:{title:"MetricLabel",permalink:"/reference/observability/metrics/metriclabel"}},s={},l=[{value:"API",id:"api",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Examples",id:"examples",level:2}],u={toc:l},p="wrapper";function f(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"Frequency")," represents the number of occurrences of specified values. We can think of a ",(0,a.kt)("inlineCode",{parentName:"p"},"Frequency")," as a set of counters associated with each value except that new counters will automatically be created when new values are observed."),(0,a.kt)("p",null,"Essentially, a ",(0,a.kt)("inlineCode",{parentName:"p"},"Frequency")," is a set of related counters sharing the same name and tags. The counters are set apart from each other by an additional configurable tag. The values of the tag represent the observed distinct values."),(0,a.kt)("h2",{id:"api"},"API"),(0,a.kt)("p",null,"object Metric {\ndef frequency(name: String): Frequency","[String]"," = ???\n}"),(0,a.kt)("h2",{id:"use-cases"},"Use Cases"),(0,a.kt)("p",null,"Sets are used to count the occurrences of distinct string values:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Tracking number of invocations for each service, for an application that uses logical names for its services."),(0,a.kt)("li",{parentName:"ul"},"Tracking frequency of different types of failures.")),(0,a.kt)("h2",{id:"examples"},"Examples"),(0,a.kt)("p",null,"Create a ",(0,a.kt)("inlineCode",{parentName:"p"},"Frequency")," to observe the occurrences of unique ",(0,a.kt)("inlineCode",{parentName:"p"},"Strings"),". It can be applied to effects yielding a ",(0,a.kt)("inlineCode",{parentName:"p"},"String"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-scala"},'import zio.metrics._\n\nval freq = Metric.frequency("MySet")\n')),(0,a.kt)("p",null,"Now we can generate some keys within an effect and start counting the occurrences for each value:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-scala"},'import zio._\n\n(Random.nextIntBounded(10).map(v => s"MyKey-$v") @@ freq).repeatN(100)\n')))}f.isMDXComponent=!0}}]);