"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[51056],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>g});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(n),f=o,g=u["".concat(s,".").concat(f)]||u[f]||d[f]||i;return n?r.createElement(g,a(a({ref:t},l),{},{components:n})):r.createElement(g,a({ref:t},l))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=f;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[u]="string"==typeof e?e:o,a[1]=c;for(var p=2;p<i;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},37954:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>p});var r=n(87462),o=(n(67294),n(3905));const i={id:"constructing-optics",title:"Constructing Optics"},a=void 0,c={unversionedId:"zio-optics/constructing-optics",id:"zio-optics/constructing-optics",title:"Constructing Optics",description:"ZIO Optics comes included with a variety of optics for working with data structures defined in the Scala standard library.",source:"@site/docs/zio-optics/constructing-optics.md",sourceDirName:"zio-optics",slug:"/zio-optics/constructing-optics",permalink:"/zio-optics/constructing-optics",draft:!1,editUrl:"https://github.com/zio/zio/edit/series/2.x/docs/zio-optics/constructing-optics.md",tags:[],version:"current",frontMatter:{id:"constructing-optics",title:"Constructing Optics"},sidebar:"ecosystem-sidebar",previous:{title:"Understanding Optics",permalink:"/zio-optics/understanding-optics"},next:{title:"Composing Optics",permalink:"/zio-optics/composing-optics"}},s={},p=[],l={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"ZIO Optics comes included with a variety of optics for working with data structures defined in the Scala standard library."),(0,o.kt)("p",null,"All of these are available in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Optic")," companion object. For example, if we want to access the first value in a ",(0,o.kt)("inlineCode",{parentName:"p"},"(String, Int)")," we could do:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"import zio.optics._\n\nval first: Lens[(String, Int), String] =\n  Optic.first\n")),(0,o.kt)("p",null,"In addition, constructors are available in the companion object of each optic. So if we wanted to access the right value of an ",(0,o.kt)("inlineCode",{parentName:"p"},"Either")," we could also do it as:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"val right: Prism[Either[String, Int], Int] =\n  Prism.right\n")),(0,o.kt)("p",null,"To create optics for your own data types you just need to define a getter and a setter. For instance, we can create an optic that accesses the age of a person like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"case class Person(name: String, age: Int)\n\nobject Person {\n  val age: Lens[Person, Int] =\n    Lens(\n      person => Right(person.age),\n      age => person => Right(person.copy(age = age))\n    )\n}\n")),(0,o.kt)("p",null,"If your optic fails you should return a ",(0,o.kt)("inlineCode",{parentName:"p"},"Left")," with an ",(0,o.kt)("inlineCode",{parentName:"p"},"OpticFailure"),". An ",(0,o.kt)("inlineCode",{parentName:"p"},"OpticFailure")," allows you to provide an error message which you can use to describe why the optic failed."),(0,o.kt)("p",null,"In the future ZIO Optics will derive these optics automatically so you will not have to do this yourself."))}d.isMDXComponent=!0}}]);